# ⛰️ 또닥또닥 산악회 관리자 시스템 (Admin System)

**또닥또닥 산악회** 운영진을 위한 통합 관리 시스템입니다. 
DuckDB의 고성능 쿼리와 Streamlit의 직관적인 UI를 결합하여 회원, 일정, 참석 현황을 효율적으로 관리합니다.

---

## 🚀 주요 기능 (Key Features)

### 1. 🏠 운영 대시보드 (Dashboard)
- **종합 현황**: 전체 회원 수, 최근 활동 회원, 누적 활동 점수를 KPI 카드로 즉시 확인합니다.
- **최근 공지 분석 (v3.9 New)**: 
    - **월별 활동 버블**: 최근 5개월간의 활동 추이를 사이즈와 휘도가 변하는 '네온 버블'로 시각화합니다.
    - **연간 통계 카드**: 연간 평균, 최다/최소 활동월(월 표기 포함), 이번 달 공지 횟수를 그래픽 카드로 제공합니다.
- **인포그래픽**: 
    - **지역별 분포 (v3.9)**: 실제 지도 대신 고대비 **네온 테마의 모식도(Schematic Map)**를 사용하여 지역별 회원 분포를 직관적으로 표현합니다.
    - **기수별/성별 분포**: 연도별 인원 구성(Bubble Chart)과 성별 밸런스(Balance Scale)를 시각적으로 제공합니다.
- **명예의 전당**: 이달의 공지왕, 참석왕, 인기 산행을 순위별로 표시하며, 회원 **프로필 사진**을 함께 노출합니다.
- **날씨 & 일정**: 다가오는 산행 일정(D-Day, 주조자 정보 포함)과 서울 주간 날씨 예보를 실시간으로 표시합니다.

### 2. 👥 회원 관리 (Member Management)
- **스마트 그리드**: 엑셀처럼 직관적인 테이블에서 회원을 조회하고 수정합니다.
- **회원 추가**: **테이블 우측 상단의 ➕ 아이콘**을 누르거나 맨 아래 빈 행을 클릭하여 즉시 추가합니다.
- **필터링**: 생년(기수), 지역, 역할별로 다중 선택 필터를 적용하여 원하는 그룹만 빠르게 찾습니다.
- **자동 계산**: 가입일, 최근 참석일, 포인트 등이 시스템에 의해 자동 관리됩니다.

### 3. 📅 산행 일정 (Event Schedule)
- **캘린더 뷰**: 월별 일정을 달력 형태로 확인할 수 있습니다(향후 지원 예정) / 현재 리스트 뷰 지원.
- **일정 등록**: 테이블에서 바로 새 일정을 추가하고 담당자, 앨범 링크 등을 관리합니다.
- **월별 필터**: 지난 행사 내역을 연도/월별로 쉽게 조회할 수 있습니다.

### 4. 🏃 참석 체크 (Attendance Check)
- **간편 체크**: 특정 행사를 선택하고 참석자를 목록에서 다중 선택(Multi-select)하여 저장합니다.
- **점수 자동 부여**: 참석 체크 시 해당 행사의 배점이 회원 포인트로 자동 적립됩니다.
- **게스트 관리**: 비회원 참석자도 별도로 기록할 수 있습니다.

### 5. 📊 보고서 생성 (Reports)
- **자동화된 보고서**: 월간 활동 내역, 시상 대상자, 경고 회원 등을 포함한 텍스트 보고서를 자동 생성합니다.
- **신입 축하 (v3.3)**: "🎉 첫 참석을 반겨요" 섹션을 통해 신입 회원의 첫 활동을 자동으로 감지하고 축하 문구를 생성합니다.
- **밴드 업로드용**: 네이버 밴드 등에 바로 붙여넣을 수 있는 포맷으로 제공됩니다.
- **데이터 백업**: 전체 데이터를 엑셀(CSV) 파일로 다운로드할 수 있습니다.

---

## 📖 사용 방법 (Usage)

### 💡 페이지별 이용 가이드
각 페이지 상단에 있는 **`📖 [페이지명] 이용 가이드`**를 클릭하면 해당 화면의 기능 설명이 펼쳐집니다.

### 🛠️ 데이터 수정/삭제
모든 데이터 수정은 **'저장(Save)' 버튼**을 눌러야 데이터베이스에 완전히 반영됩니다. 
삭제 시에도 변경 사항을 저장해야 적용됩니다.

---

## 🏗️ 시스템 구조 및 기술 스택

- **Language**: Python 3.9+
- **Framework**: Streamlit
- **Database**: DuckDB (In-process SQL)
- **Libraries**: Pandas, Plotly, Requests
- **Visuals**: Custom CSS, Card-style Layouts

### 버전 관리 (Versioning)
- **Major.Minor.Sub**: 기능 중요도에 따라 `v2.24.1`과 같이 버전이 관리됩니다.
- **최근 버전**: v3.9 (대시보드 시각화 고도화)
- **Docker**: `mysuccess/ddodak-app` 이미지를 통해 배포됩니다.

---

## 📅 최신 업데이트 내역 (Release Notes)

- **v3.9**: 대시보드 시각화 고도화 (네온 테마 모식도 지도, 버블 차트 가독성 향상)
- **v3.7~v3.8**: 공지 분석 섹션 메인 탭 이동 및 그래픽화된 모식도 지도 도입
- **v3.6**: 월별 활동 추이를 막대그래프에서 버블 형태로 변경
- **v3.5**: 연간 공지 통계 분석 기능 추가 및 대시보드 레이아웃 개편
- **v3.3**: 보고서 내 신입 회원 첫 참석 감지 및 축하 기능 추가
- **v3.2**: 다가오는 산행 주최자 프로필 및 명예의 전당 사진 노출 기능 추가
- **v2.24**: 필터링 고도화 및 테이블 편집 안정화

---

## 📝 설치 및 실행 (Local Dev)

1. **환경 설정**:
   ```bash
   pip install -r requirements.txt
   ```
2. **앱 실행**:
   ```bash
   streamlit run app.py
   ```
3. **Docker 빌드**:
   ```bash
   docker build -t mysuccess/ddodak-app:latest .
   ```